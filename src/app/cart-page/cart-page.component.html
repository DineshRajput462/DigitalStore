<section class="cart">
    <table>
        <tr class="cart-headers">
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Action</th>
        </tr>
    @for (product of cartProducts; track $index) {
        <tr class="cart-item">
            <td><img src="/images/noimage.webp" alt="errorOfAPI"></td>
            <td class="item-info"><p> {{product.pricePerQuantity * product.quantity}}<i style="color: #85BB65;" class="fa-solid fa-dollar-sign"></i></p></td>
            <td>
                <div class="apply-quantity">
                    <button (click)="decreaseQuantitiy(product.productId, product.quantity)">-</button>
                    <input min="1" value="{{product.quantity}}">
                    <button (click)="increaseQuantity(product.productId, product.quantity)">+</button>
                </div>
            </td>
            <td>
                <button (click)="deleteFromCart(product.productId)" class="remove-button">Remove <i class="fa-solid fa-trash" style="color: #ffffff;"></i></button>
            </td>
        </tr>
    }
    @empty {
        <img src="https://onlinerestaurant-seven.vercel.app/assets/emptycart.png" alt="">
    }
    </table>
    <div class="cart-actions">
        <div class="total-price">
            <p>Total Price: {{totalPrice}}$</p> 
            <button [style.cursor]="totalPrice == '0' ? 'not-allowed' : 'pointer'" [disabled]="totalPrice == '0'" (click)="deleteCart()">Reset Cart <i class="fa-solid fa-cart-shopping"></i></button>
        </div>
       <div class="check-out">
            <button [style.cursor]="totalPrice == '0' ? 'not-allowed' : 'pointer'" [disabled]="totalPrice == '0'" (click)="checkOutProducts()"><i class="fa-solid fa-credit-card"></i> Check out</button>
       </div>
    </div>
</section>

@if (displayCheckoutMessage) {
    <section class="display-notify">
        <div class="notify">
            <p>{{checkoutMessage}}</p>
            <i class="fa-solid fa-truck-fast"></i>
        </div>
    </section>
}
